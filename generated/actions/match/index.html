<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="fastlane team">
  
  <link rel="shortcut icon" href="../../../img/favicon.ico">
  <title>Match - fastlane docs</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../../css/theme.css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" integrity="sha384-yaOEEinoAKxVHv1ZCY3vqJeRItlRVwZ9pyTCCJLHlyHNndGZIF+S30C1+8oRQ2sz" crossorigin="anonymous">
  <link href="../../../css/fastlane.css" rel="stylesheet" />
  <link href="../../../css/code.css" rel="stylesheet" />
  <link href="../../../css/breadcrumbs.css" rel="stylesheet" />
  <link href="../../../css/fabric.css" rel="stylesheet" />
  <link href="../../../css/sidenav.css" rel="stylesheet" />

  <link rel="preconnect" href="https://fonts.gstatic.com"> 
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&display=swap" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Match";
    var mkdocs_page_input_path = "generated/actions/match.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js" integrity="sha384-0H+01+wORQpYAMaLWyObzDlXZaG1Mgzrj0DsIDeQX762Cfo2fPEycKxVmhlDjSV4" crossorigin="anonymous"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../../.." class="icon icon-home"> fastlane docs</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
                  <ul class=" root">
                      <li class="toctree-l1">
  <a class="reference internal" href="../../..">Home</a>
                      </li>
                  </ul>
          
                  <p class="caption"><span class="caption-text">Getting Started</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal toc-no-link" href="#">iOS</a>
      <ul>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/ios/setup/">Setup</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/ios/authentication/">Authentication</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/ios/running-tests/">Running Tests</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/ios/screenshots/">Screenshots</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/ios/beta-deployment/">Beta Deployment</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/ios/appstore-deployment/">App Store Deployment</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/ios/fastlane-swift/">Swift</a>
                  </li>
      </ul>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal toc-no-link" href="#">Android</a>
      <ul>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/android/setup/">Setup</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/android/running-tests/">Running Tests</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/android/screenshots/">Screenshots</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/android/beta-deployment/">Beta Deployment</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/android/release-deployment/">Release Deployment</a>
                  </li>
      </ul>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal toc-no-link" href="#">Cross Platform</a>
      <ul>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/cross-platform/react-native/">React Native</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/cross-platform/flutter/">Flutter</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../getting-started/cross-platform/nativescript/">NativeScript</a>
                  </li>
      </ul>
                      </li>
                  </ul>
          
                  <p class="caption"><span class="caption-text">Actions</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../actions/">Available Actions</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../create-action/">Create Your Own Action</a>
                      </li>
                  </ul>
          
          
                  <p class="caption"><span class="caption-text">Apple</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../app-store-connect-api/">Using App Store Connect API</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../uploading-app-privacy-details/">Uploading App Privacy Details</a>
                      </li>
                  </ul>
          
                  <p class="caption"><span class="caption-text">FAQs</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../faqs/">FAQs</a>
                      </li>
                  </ul>
          
                  <p class="caption"><span class="caption-text">Codesigning</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../codesigning/getting-started/">Getting Started</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../codesigning/xcode-project/">Xcode Project</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../codesigning/troubleshooting/">Troubleshooting</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../codesigning/common-issues/">Common Issues</a>
                      </li>
                  </ul>
          
                  <p class="caption"><span class="caption-text">Plugins</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../plugins/available-plugins/">Available Plugins</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../plugins/using-plugins/">Use Plugins</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../plugins/create-plugin/">Create Your Own Plugin</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../plugins/plugins-troubleshooting/">Plugins Troubleshooting</a>
                      </li>
                  </ul>
          
                  <p class="caption"><span class="caption-text">Best Practices</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../best-practices/xcodebuild-formatters/">Xcodebuild Formatters</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../best-practices/source-control/">Source Control</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../best-practices/continuous-integration/">Continuous Integration</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal toc-no-link" href="#">CI Integrations</a>
      <ul>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../best-practices/continuous-integration/appcircle/">Appcircle</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../best-practices/continuous-integration/azure-devops/">Azure DevOps</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../best-practices/continuous-integration/bamboo/">Bamboo</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../best-practices/continuous-integration/bitrise/">Bitrise</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../best-practices/continuous-integration/circle-ci/">CircleCI</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../best-practices/continuous-integration/codemagic/">Codemagic</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../best-practices/continuous-integration/github/">GitHub Actions</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../best-practices/continuous-integration/gitlab/">GitLab CI</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../best-practices/continuous-integration/jenkins/">Jenkins</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../best-practices/continuous-integration/semaphore/">Semaphore</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../../best-practices/continuous-integration/travis/">Travis</a>
                  </li>
      </ul>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../best-practices/keys/">Keys</a>
                      </li>
                  </ul>
          
                  <p class="caption"><span class="caption-text">Advanced</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../advanced/fastlane/">fastlane</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../advanced/Fastfile/">Fastfile</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../advanced/Appfile/">Appfile</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../advanced/lanes/">Lanes</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../advanced/actions/">Actions</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../../advanced/other/">Other</a>
                      </li>
                  </ul>
          
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">fastlane docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
    
    <li>Match</li>

    
      <li class="wy-breadcrumbs-aside">

        

        

        <a href="https://github.com/fastlane/fastlane/edit/master/fastlane/lib/fastlane/generated/actions/match.rb" 
            class="icon icon-github"
        > Edit on GitHub</a>
      </li>
    

    <li class="wy-breadcrumbs-aside wy-breadcrumbs-aside-search">
      <input type="text" name="q" placeholder="Search docs" />
    </li>
  </ul>
  
  <hr/>
</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<!-- at the end of the BODY -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
    apiKey: 'c651753b86f5f8a00f8f2e9e9ca95865',
    indexName: 'fastlane',
    inputSelector: 'body > div.wy-grid-for-nav > section > div > div > div:nth-child(1) > ul > li.wy-breadcrumbs-aside > input[type="text"]',
    debug: false
});
</script>
          <div role="main">
            <div class="section">
              
                <!--
This file is auto-generated and will be re-generated every time the docs are updated.
To modify it, go to its source at https://github.com/fastlane/fastlane/blob/master/fastlane/lib/fastlane/actions/match.rb
-->

<h1 id="match">match</h1>
<p>Alias for the <code>sync_code_signing</code> action</p>
<p align="center">
  <img src="/img/actions/match.png" width="250">
</p>

<h6 id="easily-sync-your-certificates-and-profiles-across-your-team">Easily sync your certificates and profiles across your team</h6>
<p>A new approach to iOS and macOS code signing: Share one code signing identity across your development team to simplify your codesigning setup and prevent code signing issues.</p>
<p><em>match</em> is the implementation of the <a href="https://codesigning.guide">codesigning.guide concept</a>. <em>match</em> creates all required certificates &amp; provisioning profiles and stores them in a separate git repository, Google Cloud, or Amazon S3. Every team member with access to the selected storage can use those credentials for code signing. <em>match</em> also automatically repairs broken and expired credentials. It's the easiest way to share signing credentials across teams</p>
<p><a href="https://docs.fastlane.tools/codesigning/getting-started/">More information on how to get started with codesigning</a></p>
<hr />
<p align="center">
    <a href="#why-match">Why?</a> &bull;
    <a href="#usage">Usage</a> &bull;
    <a href="#is-this-secure">Is this secure?</a>
</p>

<hr />
<h5 align="center"><em>match</em> is part of <a href="https://fastlane.tools">fastlane</a>: The easiest way to automate beta deployments and releases for your iOS and Android apps.</h5>

<h2 id="why-match">Why match?</h2>
<p>Before starting to use <em>match</em>, make sure to read the <a href="https://codesigning.guide">codesigning.guide</a>:</p>
<blockquote>
<p>When deploying an app to the App Store, beta testing service or even installing it on a device, most development teams have separate code signing identities for every member. This results in dozens of profiles including a lot of duplicates.</p>
<p>You have to manually renew and download the latest set of provisioning profiles every time you add a new device or a certificate expires. Additionally this requires spending a lot of time when setting up a new machine that will build your app.</p>
</blockquote>
<p><strong>A new approach</strong></p>
<blockquote>
<p>Share one code signing identity across your development team to simplify your setup and prevent code signing issues. What if there was a central place where your code signing identity and profiles are kept, so anyone in the team can access them during the build process?</p>
</blockquote>
<p>For more information about the concept, visit <a href="https://codesigning.guide">codesigning.guide</a>.</p>
<h3 id="why-not-let-xcode-handle-all-this">Why not let Xcode handle all this?</h3>
<ul>
<li>You have full control over what happens</li>
<li>You have access to all the certificates and profiles, which are all securely stored in git</li>
<li>You share one code signing identity across the team to have fewer certificates and profiles</li>
<li>Xcode sometimes revokes certificates which breaks your setup causing failed builds</li>
<li>More predictable builds by settings profiles in an explicit way instead of using the <code>Automatic</code> setting</li>
<li>It just works‚Ñ¢</li>
</ul>
<h3 id="what-does-match-do-for-you">What does <em>match</em> do for you?</h3>
<table>
<thead>
<tr>
<th></th>
<th>match</th>
</tr>
</thead>
<tbody>
<tr>
<td>üîÑ</td>
<td>Automatically sync your iOS and macOS keys and profiles across all your team members using git</td>
</tr>
<tr>
<td>üì¶</td>
<td>Handle all the heavy lifting of creating and storing your certificates and profiles</td>
</tr>
<tr>
<td>üíª</td>
<td>Setup codesigning on a new machine in under a minute</td>
</tr>
<tr>
<td>üéØ</td>
<td>Designed to work with apps with multiple targets and bundle identifiers</td>
</tr>
<tr>
<td>üîí</td>
<td>You have full control over your files and Git repo, no third party service involved</td>
</tr>
<tr>
<td>‚ú®</td>
<td>Provisioning profile will always match the correct certificate</td>
</tr>
<tr>
<td>üí•</td>
<td>Easily reset your existing profiles and certificates if your current account has expired or invalid profiles</td>
</tr>
<tr>
<td>‚ôªÔ∏è</td>
<td>Automatically renew your provisioning profiles to include all your devices using the <code>--force</code> option</td>
</tr>
<tr>
<td>üë•</td>
<td>Support for multiple Apple accounts and multiple teams</td>
</tr>
<tr>
<td>‚ú®</td>
<td>Tightly integrated with <a href="https://fastlane.tools"><em>fastlane</em></a> to work seamlessly with <a href="https://docs.fastlane.tools/actions/gym/"><em>gym</em></a> and other build tools</td>
</tr>
</tbody>
</table>
<h2 id="usage">Usage</h2>
<h3 id="setup">Setup</h3>
<ol>
<li>Optional: Create a <strong>new, shared Apple Developer Portal account</strong>, something like <code>office@company.com</code>, that will be shared across your team from now on (for more information visit <a href="https://codesigning.guide">codesigning.guide</a>)</li>
<li>Run the following in your project folder to start using <em>match</em>:</li>
</ol>
<pre><code class="language-no-highlight">fastlane match init
</code></pre>
<p><img src="/img/actions/match_init.gif" width="550" /></p>
<p>You'll be asked if you want to store your code signing identities inside a <strong>Git repo</strong>, <strong>Google Cloud</strong> or <strong>Amazon S3</strong>.</p>
<h4 id="git-storage">Git Storage</h4>
<p>Use Git Storage to store all code signing identities in a private git repo, owned and operated by you. The files will be encrypted using OpenSSL.</p>
<p>First, enter the URL to your private (!) Git repo (You can create one for free on e.g. <a href="https://github.com/new">GitHub</a> or <a href="https://bitbucket.org/repo/create">BitBucket</a>). The URL you enter can be either a <code>https://</code> or a <code>git</code> URL. <code>fastlane match init</code> won't read or modify your certificates or profiles yet, and also won't validate your git URL.</p>
<p>This will create a <code>Matchfile</code> in your current directory (or in your <code>./fastlane/</code> folder).</p>
<p>Example content (for more advanced setups check out the <a href="#fastlane">fastlane section</a>):</p>
<pre><code class="language-ruby-skip-tests">git_url(&quot;https://github.com/fastlane/certificates&quot;)

app_identifier(&quot;tools.fastlane.app&quot;)
username(&quot;user@fastlane.tools&quot;)
</code></pre>
<h5 id="git-storage-on-github">Git Storage on GitHub</h5>
<p>If your machine is currently using SSH to authenticate with GitHub, you'll want to use a <code>git</code> URL, otherwise, you may see an authentication error when you attempt to use match. Alternatively, you can set a basic authorization for <em>match</em>:</p>
<p>Using parameter:</p>
<pre><code>match(git_basic_authorization: '&lt;YOUR BASE64 KEY&gt;')
</code></pre>
<p>Using environment variable:</p>
<pre><code>ENV['MATCH_GIT_BASIC_AUTHORIZATION'] = '&lt;YOUR BASE64 KEY&gt;'
match
</code></pre>
<p>To generate your base64 key <a href="https://tools.ietf.org/html/rfc7617">according to RFC 7617</a>, run this:</p>
<pre><code>echo -n your_github_username:your_personal_access_token | base64
</code></pre>
<p>You can find more information about GitHub basic authentication and personal token generation here: <a href="https://developer.github.com/v3/auth/#basic-authentication">https://developer.github.com/v3/auth/#basic-authentication</a></p>
<h5 id="git-storage-on-github-deploy-keys">Git Storage on GitHub - Deploy keys</h5>
<p>If your machine does not have a private key set up for your certificates repository, you can give <em>match</em> a path for one:</p>
<p>Using parameter:</p>
<pre><code>match(git_private_key: '&lt;PATH TO YOUR KEY&gt;')
</code></pre>
<p>Using environment variable:</p>
<pre><code>ENV['MATCH_GIT_PRIVATE_KEY'] = '&lt;PATH TO YOUR KEY&gt;'
match
</code></pre>
<p>You can find more information about GitHub basic authentication and personal token generation here: <a href="https://developer.github.com/v3/auth/#basic-authentication">https://developer.github.com/v3/auth/#basic-authentication</a></p>
<h5 id="git-storage-on-azure-devops">Git Storage on Azure DevOps</h5>
<p>If you're running a pipeline on Azure DevOps and using git storage in a another repository on the same project, you might want to use <code>bearer</code> token authentication.</p>
<p>Using parameter:</p>
<pre><code>match(git_bearer_authorization: '&lt;YOUR TOKEN&gt;')
</code></pre>
<p>Using environment variable:</p>
<pre><code>ENV['MATCH_GIT_BEARER_AUTHORIZATION'] = '&lt;YOUR TOKEN&gt;'
match
</code></pre>
<p>You can find more information about this use case here: <a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/repos/azure-repos-git?view=azure-devops&amp;tabs=yaml#authorize-access-to-your-repositories">https://docs.microsoft.com/en-us/azure/devops/pipelines/repos/azure-repos-git?view=azure-devops&amp;tabs=yaml#authorize-access-to-your-repositories</a></p>
<h4 id="google-cloud-storage">Google Cloud Storage</h4>
<p>Use <a href="https://cloud.google.com/storage/">Google Cloud Storage</a> for a fully hosted solution for your code signing identities. Certificates are stored on Google Cloud, encrypted using Google managed keys. Everything will be stored on your Google account, inside a storage bucket you provide. You can also directly access the files using the web console.</p>
<p>This will create a <code>Matchfile</code> in your current directory (or in your <code>./fastlane/</code> folder).</p>
<p>Example content (for more advanced setups check out the <a href="#fastlane">fastlane section</a>):</p>
<pre><code class="language-ruby-skip-tests">google_cloud_bucket_name(&quot;major-key-certificates&quot;)
</code></pre>
<h4 id="amazon-s3">Amazon S3</h4>
<p>Use <a href="https://aws.amazon.com/s3/">Amazon S3</a> for a fully hosted solution for your code signing identities. Certificates are stored on S3, inside a storage bucket you provide. You can also directly access the files using the web console.</p>
<p>This will create a <code>Matchfile</code> in your current directory (or in your <code>./fastlane/</code> folder).</p>
<p>Example content (for more advanced setups check out the <a href="#fastlane">fastlane section</a>):</p>
<pre><code class="language-ruby-skip-tests">s3_bucket(&quot;ios-certificates&quot;)
</code></pre>
<h3 id="multiple-teams">Multiple teams</h3>
<p><em>match</em> can store the codesigning files for multiple development teams:</p>
<h4 id="git-storage_1">Git Storage</h4>
<p>Use one git branch per team. <em>match</em> also supports storing certificates of multiple teams in one repo, by using separate git branches. If you work in multiple teams, make sure to set the <code>git_branch</code> parameter to a unique value per team. From there, <em>match</em> will automatically create and use the specified branch for you.</p>
<pre><code class="language-ruby">match(git_branch: &quot;team1&quot;, username: &quot;user@team1.com&quot;)
match(git_branch: &quot;team2&quot;, username: &quot;user@team2.com&quot;)
</code></pre>
<h4 id="google-cloud-or-amazon-s3-storage">Google Cloud or Amazon S3 Storage</h4>
<p>If you use Google Cloud or Amazon S3 Storage, you don't need to do anything manually. Just use Google Cloud or Amazon S3 Storage, and the top level folder will be the team ID.</p>
<h3 id="run">Run</h3>
<blockquote>
<p>Before running <em>match</em> for the first time, you should consider clearing your existing profiles and certificates using the <a href="#nuke">match nuke command</a>.</p>
</blockquote>
<p>After running <code>fastlane match init</code> you can run the following to generate new certificates and profiles:</p>
<pre><code class="language-no-highlight">fastlane match appstore
</code></pre>
<pre><code class="language-no-highlight">fastlane match development
</code></pre>
<p><img src="/img/actions/match_appstore_small.gif" width="550" /></p>
<p>This will create a new certificate and provisioning profile (if required) and store them in your selected storage.
If you previously ran <em>match</em> with the configured storage it will automatically install the existing profiles from your storage.</p>
<p>The provisioning profiles are installed in <code>~/Library/MobileDevice/Provisioning Profiles</code> while the certificates and private keys are installed in your Keychain.</p>
<p>To get a more detailed output of what <em>match</em> is doing use</p>
<pre><code class="language-no-highlight">fastlane match --verbose
</code></pre>
<p>For a list of all available options run</p>
<pre><code class="language-no-highlight">fastlane action match
</code></pre>
<h4 id="handle-multiple-targets">Handle multiple targets</h4>
<p><em>match</em> can use the same one Git repository, Google Cloud, or Amazon S3 Storage for all bundle identifiers.</p>
<p>If you have several targets with different bundle identifiers, supply them as a comma-separated list:</p>
<pre><code class="language-no-highlight">fastlane match appstore -a tools.fastlane.app,tools.fastlane.app.watchkitapp
</code></pre>
<p>You can make this even easier using <a href="https://fastlane.tools"><em>fastlane</em></a> by creating a <code>certificates</code> lane like this:</p>
<pre><code class="language-ruby">lane :certificates do
  match(app_identifier: [&quot;tools.fastlane.app&quot;, &quot;tools.fastlane.app.watchkitapp&quot;])
end
</code></pre>
<p>Then all your team has to do is run <code>fastlane certificates</code> and the keys, certificates and profiles for all targets will be synced.</p>
<h4 id="handle-multiple-apps-per-developerdistribution-certificate">Handle multiple apps per developer/distribution certificate</h4>
<p>If you want to use a single developer and/or distribution certificate for multiple apps belonging to the same development team, you may use the same signing identities repository and branch to store the signing identities for your apps:</p>
<p><code>Matchfile</code> example for both App #1 and #2:</p>
<pre><code class="language-ruby-skip-tests">git_url(&quot;https://github.com/example/example-repo.git&quot;)
git_branch(&quot;master&quot;)
</code></pre>
<p><em>match</em> will reuse certificates and will create separate provisioning profiles for each app.</p>
<h4 id="passphrase">Passphrase</h4>
<p><em>Git Repo storage only</em></p>
<p>When running <em>match</em> for the first time on a new machine, it will ask you for the passphrase for the Git repository. This is an additional layer of security: each of the files will be encrypted using <code>openssl</code>. Make sure to remember the password, as you'll need it when you run match on a different machine.</p>
<p>To set the passphrase to decrypt your profiles using an environment variable (and avoid the prompt) use <code>MATCH_PASSWORD</code>.</p>
<h4 id="migrate-from-git-repo-to-google-cloud">Migrate from Git Repo to Google Cloud</h4>
<p>If you're already using a Git Repo, but would like to switch to using Google Cloud Storage, run the following command to automatically migrate all your existing code signing identities and provisioning profiles</p>
<pre><code class="language-no-highlight">fastlane match migrate
</code></pre>
<p>After a successful migration you can safely delete your Git repo.</p>
<h4 id="google-cloud-access-control">Google Cloud access control</h4>
<p><em>Google Cloud Storage only</em></p>
<p>There are two cases for reading and writing certificates stored in a Google Cloud storage bucket:</p>
<ol>
<li>Continuous integration jobs. These will authenticate to your Google Cloud project via a service account, and use a <code>gc_keys.json</code> file as credentials.</li>
<li>Developers on a local workstation. In this case, you should choose whether everyone on your team will create their own <code>gc_keys.json</code> file, or whether you want to manage access to the bucket directly using your developers' Google accounts.</li>
</ol>
<p>When running <code>fastlane match init</code> the first time, the setup process will give you the option to create your <code>gc_keys.json</code> file. This file contains the authentication credentials needed to access your Google Cloud storage bucket. Make sure to keep that file secret and never add it to version control. We recommend adding <code>gc_keys.json</code> to your <code>.gitignore</code></p>
<h5 id="managing-developer-access-via-keys">Managing developer access via keys</h5>
<p>If you want to manage developer access to your certificates via authentication keys, every developer should create their own <code>gc_keys.json</code> and add the file to all their work machines. This will give the admin full control over who has read/write access to the given Storage bucket. At the same time it allows your team to revoke a single key if a file gets compromised.</p>
<h5 id="managing-developer-access-via-google-accounts">Managing developer access via Google accounts</h5>
<p>If your developers already have Google accounts and access to your Google Cloud project, you can also manage access to the storage bucket via <a href="https://cloud.google.com/storage/docs/access-control/iam">Cloud Identity and Access Management (IAM)</a>. Just <a href="https://cloud.google.com/storage/docs/access-control/lists">set up</a> individual developer accounts or an entire Google Group containing your team as readers and writers on your storage bucket.</p>
<p>You can then specify the Google Cloud project id containing your storage bucket in your <code>Matchfile</code>:</p>
<pre><code class="language-ruby-skip-tests">storage_mode(&quot;google_cloud&quot;)
google_cloud_bucket_name(&quot;my-app-certificates&quot;)
google_cloud_project_id(&quot;my-app-project&quot;)
</code></pre>
<p>This lets developers on your team use <a href="https://cloud.google.com/docs/authentication/production">Application Default Credentials</a> when accessing your storage bucket. After installing the <a href="https://cloud.google.com/sdk/">Google Cloud SDK</a>, they only need to run the following command once:</p>
<pre><code class="language-no-highlight">gcloud auth application-default login
</code></pre>
<p>... and log in with their Google account. Then, when they run <code>fastlane match</code>, <em>match</em> will use these credentials to read from and write to the storage bucket.</p>
<h4 id="new-machine">New machine</h4>
<p>To set up the certificates and provisioning profiles on a new machine, you just run the same command using:</p>
<pre><code class="language-no-highlight">fastlane match development
</code></pre>
<p>You can also run <em>match</em> in a <code>readonly</code> mode to be sure it won't create any new certificates or profiles.</p>
<pre><code class="language-no-highlightno-highlight">fastlane match development --readonly
</code></pre>
<p>We recommend to always use <code>readonly</code> mode when running <em>fastlane</em> on CI systems. This can be done using</p>
<pre><code class="language-ruby">lane :beta do
  match(type: &quot;appstore&quot;, readonly: is_ci)

  gym(scheme: &quot;Release&quot;)
end
</code></pre>
<h4 id="access-control">Access Control</h4>
<p>A benefit of using <em>match</em> is that it enables you to give the developers of your team access to the code signing certificates without having to give everyone access to the Developer Portal:</p>
<ol>
<li>Run <em>match</em> to store the certificates in a Git repo or Google Cloud Storage</li>
<li>Grant access to the Git repo / Google Cloud Storage Bucket to your developers and give them the passphrase (for git storage)</li>
<li>The developers can now run <em>match</em> which will install the latest code signing profiles so they can build and sign the application without having to have access to the Apple Developer Portal</li>
<li>Every time you run <em>match</em> to update the profiles (e.g. add a new device), all your developers will automatically get the latest profiles when running <em>match</em></li>
</ol>
<p>If you decide to run <em>match</em> without access to the Developer Portal, make sure to use the <code>--readonly</code> option so that the commands don't ask you for the password to the Developer Portal.</p>
<p>The advantage of this approach is that no one in your team will revoke a certificate by mistake, while having all code signing secrets in one location.</p>
<h4 id="folder-structure">Folder structure</h4>
<p>After running <em>match</em> for the first time, your Git repo or Google Cloud bucket will contain 2 directories:</p>
<ul>
<li>The <code>certs</code> folder contains all certificates with their private keys</li>
<li>The <code>profiles</code> folder contains all provisioning profiles</li>
</ul>
<p>Additionally, <em>match</em> creates a nice repo <code>README.md</code> for you, making it easy to onboard new team members:</p>
<p align="center">
  <img src="/img/actions/github_repo.png" width="700" />
</p>

<p>In the case of Google Cloud, the top level folder will be the team ID.</p>
<h4 id="fastlane">fastlane</h4>
<p>Add <em>match</em> to your <code>Fastfile</code> to automatically fetch the latest code signing certificates with <a href="https://fastlane.tools"><em>fastlane</em></a>.</p>
<pre><code>match(type: &quot;appstore&quot;)

match(type: &quot;development&quot;)

match(type: &quot;adhoc&quot;,
      app_identifier: &quot;tools.fastlane.app&quot;)

match(type: &quot;enterprise&quot;,
      app_identifier: &quot;tools.fastlane.app&quot;)

# _match_ should be called before building the app with _gym_
gym
# ...
</code></pre>
<h5 id="registering-new-devices">Registering new devices</h5>
<p>By using <em>match</em>, you'll save a lot of time every time you add new device to your Ad Hoc or Development profiles. Use <em>match</em> in combination with the <a href="https://docs.fastlane.tools/actions/register_devices/"><code>register_devices</code></a> action.</p>
<pre><code class="language-ruby">lane :beta do
  register_devices(devices_file: &quot;./devices.txt&quot;)
  match(type: &quot;adhoc&quot;, force_for_new_devices: true)
end
</code></pre>
<p>By using the <code>force_for_new_devices</code> parameter, <em>match</em> will check if the (enabled) device count has changed since the last time you ran <em>match</em>, and automatically re-generate the provisioning profile if necessary. You can also use <code>force: true</code> to re-generate the provisioning profile on each run.</p>
<p><em><strong>Important:</strong> The <code>force_for_new_devices</code> parameter is ignored for App Store provisioning profiles since they don't contain any device information.</em></p>
<p>If you're not using <code>Fastfile</code>, you can also use the <code>force_for_new_devices</code> option from the command line:</p>
<pre><code class="language-no-highlight">fastlane match adhoc --force_for_new_devices
</code></pre>
<h5 id="managed-capabilities">Managed capabilities</h5>
<blockquote>
<p>[!IMPORTANT]
This feature has been deprecated since May 2025, until Apple provides a new solution. We will update this documentation once we have more information on how to handle managed capabilities in the future.</p>
</blockquote>
<p>Managed capabilities ‚Äî formerly known as "additional entitlements" or "custom entitlements", enabled via "templates" ‚Äî are additional capabilities that require Apple's review and approval before they can be distributed.</p>
<p>These capabilities used to be enabled by passing a <code>template_name</code> parameter to the <em>match</em> action, which would then generate a provisioning profile with the entitlements specified by the given template. However, this feature was never officially supported by Apple's API (undocumented), and they eventually removed it in May 2025 (<a href="https://github.com/fastlane/fastlane/issues/29498">see issue #29498</a>). Apple still hasn't provided a replacement for this functionality.</p>
<p>As a result, the <code>template_name</code> parameter was deprecated in the <em>match</em> action, and it will not generate provisioning profiles with custom entitlements.</p>
<h3 id="setup-xcode-project">Setup Xcode project</h3>
<p><a href="/codesigning/xcode-project/">Docs on how to set up your Xcode project</a></p>
<h4 id="to-build-from-the-command-line-using-fastlane">To build from the command line using <a href="https://fastlane.tools"><em>fastlane</em></a></h4>
<p><em>match</em> automatically pre-fills environment variables with the UUIDs of the correct provisioning profiles, ready to be used in your Xcode project.</p>
<p>More information about how to setup your Xcode project can be found <a href="/codesigning/xcode-project/">here</a></p>
<h4 id="to-build-from-xcode-manually">To build from Xcode manually</h4>
<p>This is useful when installing your application on your device using the Development profile.</p>
<p>You can statically select the right provisioning profile in your Xcode project (the name will be <code>match Development tools.fastlane.app</code>).</p>
<p><a href="/codesigning/xcode-project/">Docs on how to set up your Xcode project</a></p>
<h3 id="continuous-integration">Continuous Integration</h3>
<h4 id="git-repo-access">Git repo access</h4>
<p>There is one tricky part of setting up a CI system to work with <em>match</em>, which is enabling the CI to access the repo. Usually you'd just add your CI's public ssh key as a deploy key to your <em>match</em> repo, but since your CI will already likely be using its public ssh key to access the codebase repo, <a href="https://help.github.com/articles/error-key-already-in-use/">you won't be able to do that</a>.</p>
<p>Some repo hosts might allow you to use the same deploy key for different repos, but GitHub will not. If your host does, you don't need to worry about this, just add your CI's public ssh key as a deploy key for your <em>match</em> repo and scroll down to "<em>Encryption password</em>".</p>
<p>There are a few ways around this:</p>
<ol>
<li>Create a new account on your repo host with read-only access to your <em>match</em> repo. Bitrise have a good description of this <a href="http://devcenter.bitrise.io/faq/adding-projects-with-submodules/">here</a>.</li>
<li>Some CIs allow you to upload your signing credentials manually, but obviously this means that you'll have to re-upload the profiles/keys/certs each time they change.</li>
</ol>
<p>Neither solution is pretty. It's one of those <em>trade-off</em> things. Do you care more about <strong>not</strong> having an extra account sitting around, or do you care more about having the :sparkles: of auto-syncing of credentials.</p>
<h4 id="git-repo-encryption-password">Git repo encryption password</h4>
<p>Once you've decided which approach to take, all that's left to do is to set your encryption password as secret environment variable named <code>MATCH_PASSWORD</code>. <em>match</em> will pick this up when it's run.</p>
<h4 id="google-cloud-storage-access">Google Cloud Storage access</h4>
<p>Accessing Google Cloud Storage from your CI system requires you to provide the <code>gc_keys.json</code> file as part of your build. How you implement this is your decision. You can inject that file during build time.</p>
<h4 id="amazon-s3-storage-access">Amazon S3 Storage access</h4>
<p>Accessing Amazon S3 Storage from your CI system requires you to provide the <code>s3_region</code>, <code>s3_access_key</code>, <code>s3_secret_access_key</code> and <code>s3_bucket</code> options (or environment variables), with keys that has read access to the bucket.</p>
<h3 id="nuke">Nuke</h3>
<p>If you never really cared about code signing and have a messy Apple Developer account with a lot of invalid, expired or Xcode managed profiles/certificates, you can use the <code>match nuke</code> command to revoke your certificates and provisioning profiles. Don't worry, apps that are already available in the App Store / TestFlight will still work. Builds distributed via Ad Hoc or Enterprise will be disabled after nuking your account, so you'll have to re-upload a new build. After clearing your account you'll start from a clean state, and you can run <em>match</em> to generate your certificates and profiles again.</p>
<p>To revoke all certificates and provisioning profiles for a specific environment:</p>
<pre><code class="language-no-highlight">fastlane match nuke development
fastlane match nuke distribution
fastlane match nuke enterprise
</code></pre>
<p><img src="/img/actions/match_nuke.gif" width="550" /></p>
<p>You'll have to confirm a list of profiles / certificates that will be deleted.</p>
<h2 id="advanced-git-storage-features">Advanced Git Storage features</h2>
<h3 id="change-password">Change Password</h3>
<p>To change the password of your repo and therefore decrypting and encrypting all files run:</p>
<pre><code class="language-no-highlight">fastlane match change_password
</code></pre>
<p>You'll be asked for the new password on all your machines on the next run.</p>
<h3 id="import">Import</h3>
<p>To import and encrypt a certificate (<code>.cer</code>), the private key (<code>.p12</code>) and the provisioning profiles (<code>.mobileprovision</code> or <code>.provisionprofile</code>) into the <em>match</em> repo run:</p>
<pre><code class="language-no-highlight">fastlane match import
</code></pre>
<p>You'll be prompted for the certificate (<code>.cer</code>), the private key (<code>.p12</code>) and the provisioning profiles (<code>.mobileprovision</code> or <code>.provisionprofile</code>) paths. <em>match</em> will first validate the certificate (<code>.cer</code>) against the Developer Portal before importing the certificate, the private key and the provisioning profiles into the specified <em>match</em> repository.</p>
<p>However if there is no access to the developer portal but there are certificates, private keys and profiles provided, you can use the <code>skip_certificate_matching</code> option to tell <em>match</em> not to verify the certificates. Like this:</p>
<pre><code class="language-no-highlight">fastlane match import --skip_certificate_matching true
</code></pre>
<p>This will skip login to Apple Developer Portal and will import the provided certificate, private key and profile directly to the certificates repo.</p>
<p>Please be careful when using this option and ensure the certificates and profiles match the type (development, adhoc, appstore, enterprise, developer_id) and are not revoked or expired.</p>
<h3 id="manual-decrypt">Manual Decrypt</h3>
<p>If you want to manually decrypt or encrypt a file, you can use the companion script <code>match_file</code>:</p>
<pre><code class="language-no-highlight">match_file encrypt &quot;&lt;fileYouWantToEncryptPath&gt;&quot; [&quot;&lt;encryptedFilePath&gt;&quot;]

match_file decrypt &quot;&lt;fileYouWantToDecryptPath&gt;&quot; [&quot;&lt;decryptedFilePath&gt;&quot;]
</code></pre>
<p>The password will be asked interactively.</p>
<p><em><strong>Note:</strong> You may need to swap double quotes <code>"</code> for single quotes <code>'</code> if your match password contains an exclamation mark <code>!</code>.</em></p>
<h4 id="export-distribution-certificate-and-private-key-as-single-p12-file">Export Distribution Certificate and Private Key as Single .p12 File</h4>
<p><em>match</em> stores the certificate (<code>.cer</code>) and the private key (<code>.p12</code>) files separately. The following steps will repackage the separate certificate and private key into a single <code>.p12</code> file.</p>
<p>Decrypt your cert found in <code>certs/&lt;type&gt;/&lt;unique-id&gt;.cer</code> as a pem file:</p>
<pre><code class="language-no-highlight">openssl aes-256-cbc -k &quot;&lt;password&gt;&quot; -in &quot;certs/&lt;type&gt;/&lt;unique-id&gt;.cer&quot; -out &quot;cert.der&quot; -a -d -md [md5|sha256]
openssl x509 -inform der -in cert.der -out cert.pem
</code></pre>
<p>Decrypt your private key found in <code>certs/&lt;type&gt;/&lt;unique-id&gt;.p12</code> as a pem file:</p>
<pre><code class="language-no-highlight">openssl aes-256-cbc -k &quot;&lt;password&gt;&quot; -in &quot;certs/distribution/&lt;unique-id&gt;.p12&quot; -out &quot;key.pem&quot; -a -d -md [md5|sha256]
</code></pre>
<p>Generate an encrypted p12 file with the same or new password:</p>
<pre><code class="language-no-highlight">openssl pkcs12 -export -out &quot;cert.p12&quot; -inkey &quot;key.pem&quot; -in &quot;cert.pem&quot; -password pass:&lt;password&gt;
</code></pre>
<h2 id="is-this-secure">Is this secure?</h2>
<h3 id="git">Git</h3>
<p>Both your keys and provisioning profiles are encrypted using OpenSSL using a passphrase.</p>
<p>Storing your private keys in a Git repo may sound off-putting at first. We did an analysis of potential security issues, see section below.</p>
<h3 id="google-cloud-storage_1">Google Cloud Storage</h3>
<p>All your keys and provisioning profiles are encrypted using Google managed keys.</p>
<h3 id="what-could-happen-if-someone-stole-a-private-key">What could happen if someone stole a private key?</h3>
<p>If attackers would have your certificate and provisioning profile, they could codesign an application with the same bundle identifier.</p>
<p>What's the worst that could happen for each of the profile types?</p>
<h4 id="app-store-profiles">App Store Profiles</h4>
<p>An App Store profile can't be used for anything as long as it's not re-signed by Apple. The only way to get an app resigned is to submit an app for review which could take anywhere from 24 hours to a few days. Attackers could only submit an app for review, if they also got access to your App Store Connect credentials (which are not stored in git, but in your local keychain). Additionally you get an email notification every time a build gets uploaded to cancel the submission even before your app gets into the review stage.</p>
<h4 id="development-and-ad-hoc-profiles">Development and Ad Hoc Profiles</h4>
<p>In general those profiles are harmless as they can only be used to install a signed application on a small subset of devices. To add new devices, the attacker would also need your Apple Developer Portal credentials (which are not stored in git, but in your local keychain).</p>
<h4 id="enterprise-profiles">Enterprise Profiles</h4>
<p>Attackers could use an In-House profile to distribute signed application to a potentially unlimited number of devices. All this would run under your company name and it could eventually lead to Apple revoking your In-House account. However it is very easy to revoke a certificate to remotely break the app on all devices.</p>
<p>Because of the potentially dangerous nature of In-House profiles please use <em>match</em> with enterprise profiles with caution, ensure your git repository is private and use a secure password.</p>
<h4 id="to-sum-up">To sum up</h4>
<ul>
<li>You have full control over the access list of your Git repo, no third party service involved</li>
<li>Even if your certificates are leaked, they can't be used to cause any harm without your App Store Connect login credentials</li>
<li>Use In-House enterprise profile with <em>match</em> with caution</li>
<li>If you use GitHub or Bitbucket we encourage enabling 2 factor authentication for all accounts that have access to the certificates repo</li>
<li>The complete source code of <em>match</em> is fully open source on <a href="https://github.com/fastlane/fastlane/">GitHub</a></li>
</ul>
<hr />

<table>
<thead>
<tr>
<th>match</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Supported platforms</td>
<td>ios, mac</td>
</tr>
<tr>
<td>Author</td>
<td>@KrauseFx</td>
</tr>
</tbody>
</table>
<h2 id="4-examples">4 Examples</h2>
<pre><code class="language-ruby">sync_code_signing(type: &quot;appstore&quot;, app_identifier: &quot;tools.fastlane.app&quot;)
</code></pre>
<pre><code class="language-ruby">sync_code_signing(type: &quot;development&quot;, readonly: true)
</code></pre>
<pre><code class="language-ruby">sync_code_signing(app_identifier: [&quot;tools.fastlane.app&quot;, &quot;tools.fastlane.sleepy&quot;])
</code></pre>
<pre><code class="language-ruby">match   # alias for &quot;sync_code_signing&quot;
</code></pre>
<h2 id="parameters">Parameters</h2>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>type</code></td>
<td>Define the profile type, can be appstore, adhoc, development, enterprise, developer_id, mac_installer_distribution, developer_id_installer</td>
<td><code>development</code></td>
</tr>
<tr>
<td><code>additional_cert_types</code></td>
<td>Create additional cert types needed for macOS installers (valid values: mac_installer_distribution, developer_id_installer)</td>
<td></td>
</tr>
<tr>
<td><code>readonly</code></td>
<td>Only fetch existing certificates and profiles, don't generate new ones</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>generate_apple_certs</code></td>
<td>Create a certificate type for Xcode 11 and later (Apple Development or Apple Distribution)</td>
<td><a href="#parameters-legend-dynamic">*</a></td>
</tr>
<tr>
<td><code>skip_provisioning_profiles</code></td>
<td>Skip syncing provisioning profiles</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>app_identifier</code></td>
<td>The bundle identifier(s) of your app (comma-separated string or array of strings)</td>
<td><a href="#parameters-legend-dynamic">*</a></td>
</tr>
<tr>
<td><code>api_key_path</code></td>
<td>Path to your App Store Connect API Key JSON file (https://docs.fastlane.tools/app-store-connect-api/#using-fastlane-api-key-json-file)</td>
<td></td>
</tr>
<tr>
<td><code>api_key</code></td>
<td>Your App Store Connect API Key information (https://docs.fastlane.tools/app-store-connect-api/#using-fastlane-api-key-hash-option)</td>
<td></td>
</tr>
<tr>
<td><code>username</code></td>
<td>Your Apple ID Username</td>
<td><a href="#parameters-legend-dynamic">*</a></td>
</tr>
<tr>
<td><code>team_id</code></td>
<td>The ID of your Developer Portal team if you're in multiple teams</td>
<td><a href="#parameters-legend-dynamic">*</a></td>
</tr>
<tr>
<td><code>team_name</code></td>
<td>The name of your Developer Portal team if you're in multiple teams</td>
<td><a href="#parameters-legend-dynamic">*</a></td>
</tr>
<tr>
<td><code>storage_mode</code></td>
<td>Define where you want to store your certificates</td>
<td><code>git</code></td>
</tr>
<tr>
<td><code>git_url</code></td>
<td>URL to the git repo containing all the certificates</td>
<td></td>
</tr>
<tr>
<td><code>git_branch</code></td>
<td>Specific git branch to use</td>
<td><code>master</code></td>
</tr>
<tr>
<td><code>git_full_name</code></td>
<td>git user full name to commit</td>
<td></td>
</tr>
<tr>
<td><code>git_user_email</code></td>
<td>git user email to commit</td>
<td></td>
</tr>
<tr>
<td><code>shallow_clone</code></td>
<td>Make a shallow clone of the repository (truncate the history to 1 revision)</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>clone_branch_directly</code></td>
<td>Clone just the branch specified, instead of the whole repo. This requires that the branch already exists. Otherwise the command will fail</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>git_basic_authorization</code></td>
<td>Use a basic authorization header to access the git repo (e.g.: access via HTTPS, GitHub Actions, etc), usually a string in Base64</td>
<td></td>
</tr>
<tr>
<td><code>git_bearer_authorization</code></td>
<td>Use a bearer authorization header to access the git repo (e.g.: access to an Azure DevOps repository), usually a string in Base64</td>
<td></td>
</tr>
<tr>
<td><code>git_private_key</code></td>
<td>Use a private key to access the git repo (e.g.: access to GitHub repository via Deploy keys), usually a id_rsa named file or the contents hereof</td>
<td></td>
</tr>
<tr>
<td><code>google_cloud_bucket_name</code></td>
<td>Name of the Google Cloud Storage bucket to use</td>
<td></td>
</tr>
<tr>
<td><code>google_cloud_keys_file</code></td>
<td>Path to the gc_keys.json file</td>
<td></td>
</tr>
<tr>
<td><code>google_cloud_project_id</code></td>
<td>ID of the Google Cloud project to use for authentication</td>
<td></td>
</tr>
<tr>
<td><code>skip_google_cloud_account_confirmation</code></td>
<td>Skips confirming to use the system google account</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>s3_region</code></td>
<td>Name of the S3 region</td>
<td></td>
</tr>
<tr>
<td><code>s3_access_key</code></td>
<td>S3 access key</td>
<td></td>
</tr>
<tr>
<td><code>s3_secret_access_key</code></td>
<td>S3 secret access key</td>
<td></td>
</tr>
<tr>
<td><code>s3_bucket</code></td>
<td>Name of the S3 bucket</td>
<td></td>
</tr>
<tr>
<td><code>s3_object_prefix</code></td>
<td>Prefix to be used on all objects uploaded to S3</td>
<td></td>
</tr>
<tr>
<td><code>s3_skip_encryption</code></td>
<td>Skip encryption of all objects uploaded to S3. WARNING: only enable this on S3 buckets with sufficiently restricted permissions and server-side encryption enabled. See https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingEncryption.html</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>gitlab_project</code></td>
<td>GitLab Project Path (i.e. 'gitlab-org/gitlab')</td>
<td></td>
</tr>
<tr>
<td><code>gitlab_host</code></td>
<td>GitLab Host (i.e. 'https://gitlab.com')</td>
<td><code>https://gitlab.com</code></td>
</tr>
<tr>
<td><code>job_token</code></td>
<td>GitLab CI_JOB_TOKEN</td>
<td></td>
</tr>
<tr>
<td><code>private_token</code></td>
<td>GitLab Access Token</td>
<td></td>
</tr>
<tr>
<td><code>keychain_name</code></td>
<td>Keychain the items should be imported to</td>
<td><code>login.keychain</code></td>
</tr>
<tr>
<td><code>keychain_password</code></td>
<td>This might be required the first time you access certificates on a new mac. For the login/default keychain this is your macOS account password</td>
<td></td>
</tr>
<tr>
<td><code>force</code></td>
<td>Renew the provisioning profiles every time you run match</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>force_for_new_devices</code></td>
<td>Renew the provisioning profiles if the device count on the developer portal has changed. Ignored for profile types 'appstore' and 'developer_id'</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>include_mac_in_profiles</code></td>
<td>Include Apple Silicon Mac devices in provisioning profiles for iOS/iPadOS apps</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>include_all_certificates</code></td>
<td>Include all matching certificates in the provisioning profile. Works only for the 'development' provisioning profile type</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>certificate_id</code></td>
<td>Select certificate by id. Useful if multiple certificates are stored in one place</td>
<td></td>
</tr>
<tr>
<td><code>force_for_new_certificates</code></td>
<td>Renew the provisioning profiles if the certificate count on the developer portal has changed. Works only for the 'development' provisioning profile type. Requires 'include_all_certificates' option to be 'true'</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>skip_confirmation</code></td>
<td>Disables confirmation prompts during nuke, answering them with yes</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>safe_remove_certs</code></td>
<td>Remove certs from repository during nuke without revoking them on the developer portal</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>skip_docs</code></td>
<td>Skip generation of a README.md for the created git repository</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>platform</code></td>
<td>Set the provisioning profile's platform to work with (i.e. ios, tvos, macos, catalyst)</td>
<td><a href="#parameters-legend-dynamic">*</a></td>
</tr>
<tr>
<td><code>derive_catalyst_app_identifier</code></td>
<td>Enable this if you have the Mac Catalyst capability enabled and your project was created with Xcode 11.3 or earlier. Prepends 'maccatalyst.' to the app identifier for the provisioning profile mapping</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>template_name</code></td>
<td><strong>DEPRECATED!</strong> Removed since May 2025 on App Store Connect API OpenAPI v3.8.0 - Learn more: https://docs.fastlane.tools/actions/match/#managed-capabilities - The name of provisioning profile template. If the developer account has provisioning profile templates (aka: custom entitlements), the template name can be found by inspecting the Entitlements drop-down while creating/editing a provisioning profile (e.g. "Apple Pay Pass Suppression Development")</td>
<td></td>
</tr>
<tr>
<td><code>profile_name</code></td>
<td>A custom name for the provisioning profile. This will replace the default provisioning profile name if specified</td>
<td></td>
</tr>
<tr>
<td><code>fail_on_name_taken</code></td>
<td>Should the command fail if it was about to create a duplicate of an existing provisioning profile. It can happen due to issues on Apple Developer Portal, when profile to be recreated was not properly deleted first</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>skip_certificate_matching</code></td>
<td>Set to true if there is no access to Apple developer portal but there are certificates, keys and profiles provided. Only works with match import action</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>output_path</code></td>
<td>Path in which to export certificates, key and profile</td>
<td></td>
</tr>
<tr>
<td><code>skip_set_partition_list</code></td>
<td>Skips setting the partition list (which can sometimes take a long time). Setting the partition list is usually needed to prevent Xcode from prompting to allow a cert to be used for signing</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>force_legacy_encryption</code></td>
<td>Force encryption to use legacy cbc algorithm for backwards compatibility with older match versions</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>verbose</code></td>
<td>Print out extra information and all commands</td>
<td><code>false</code></td>
</tr>
</tbody>
</table>
<p><em id="parameters-legend-dynamic">* = default value is dependent on the user's system</em></p>
<hr />

<h2 id="lane-variables">Lane Variables</h2>
<p>Actions can communicate with each other using a shared hash <code>lane_context</code>, that can be accessed in other actions, plugins or your lanes: <code>lane_context[SharedValues:XYZ]</code>. The <code>match</code> action generates the following Lane Variables:</p>
<table>
<thead>
<tr>
<th>SharedValue</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SharedValues::MATCH_PROVISIONING_PROFILE_MAPPING</code></td>
<td>The match provisioning profile mapping</td>
</tr>
<tr>
<td><code>SharedValues::SIGH_PROFILE_TYPE</code></td>
<td>The profile type, can be app-store, ad-hoc, development, enterprise, can be used in <code>build_app</code> as a default value for <code>export_method</code></td>
</tr>
</tbody>
</table>
<p>To get more information check the <a href="https://docs.fastlane.tools/advanced/lanes/#lane-context">Lanes documentation</a>.</p>
<hr />

<h2 id="documentation">Documentation</h2>
<p>To show the documentation in your terminal, run</p>
<pre><code class="language-no-highlight">fastlane action match
</code></pre>
<hr />

<h2 id="cli">CLI</h2>
<p>It is recommended to add the above action into your <code>Fastfile</code>, however sometimes you might want to run one-offs. To do so, you can run the following command from your terminal</p>
<pre><code class="language-no-highlight">fastlane run match
</code></pre>
<p>To pass parameters, make use of the <code>:</code> symbol, for example</p>
<pre><code class="language-no-highlight">fastlane run match parameter1:&quot;value1&quot; parameter2:&quot;value2&quot;
</code></pre>
<p>It's important to note that the CLI supports primitive types like integers, floats, booleans, and strings. Arrays can be passed as a comma delimited string (e.g. <code>param:"1,2,3"</code>). Hashes are not currently supported.</p>
<p>It is recommended to add all <em>fastlane</em> actions you use to your <code>Fastfile</code>.</p>
<hr />

<h2 id="source-code">Source code</h2>
<p>This action, just like the rest of <em>fastlane</em>, is fully open source, <a href="https://github.com/fastlane/fastlane/blob/master/fastlane/lib/fastlane/actions/match.rb" target="_blank">view the source code on GitHub</a></p>
<hr />

<p><a href="/actions/"><b>Back to actions</b></a></p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div class="fastlane" role="contentinfo">
    <p>
      <a href="https://github.com/fastlane/fastlane" target="_blank">
        <img src="/img/fastlane_text.png" width="200" />
      </a>
      <iframe src="https://ghbtns.com/github-btn.html?user=fastlane&repo=fastlane&type=watch&count=true"
        allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20" class="githubButton"></iframe>
    </p>
  </div>

  Documentation built 2025-10-15 with <a href="http://www.mkdocs.org">MkDocs</a> <!-- using <a href="https://www.mkdocs.org/user-guide/choosing-your-theme/#readthedocs">readthedocs theme</a> --> ‚Äî Copyright &copy; 2025 <a href="https://fastlane.tools">fastlane</a>
</footer>

<script type="text/javascript">
  function ensureExternalLinksOpenInNewTab() {
    const links = document.links;
    for (let i = 0, linksLength = links.length; i < linksLength; i++) {
      if (links[i].hostname != window.location.hostname) {
        links[i].target = '_blank';
      }
    }
  }

  function scrollToAnchorNestedInDetailsIfNeeded() {
    function scrollToElement() {
      const id = window.location.hash.substr(1);
      if (id === '') {
        return;
      }

      const element = document.getElementById(id);
      if (!element) {
        return;
      }

      const details = document.getElementsByTagName('details');
      for (const element of details) {
        element.open = false;
      }

      let temp = element;
      while (temp && temp.tagName) {
        if (temp.tagName.toLowerCase() === 'details') {
          temp.open = true;
        }

        temp = temp.parentNode;
      }

      element.scrollIntoView();
    }

    function onReady(callback) {
      if (document.readyState !== 'loading') {
        callback();
      } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', callback);
      } else {
        document.attachEvent('onreadystatechange', function() {
          if (document.readyState === 'complete') {
            callback();
          }
        });
      }
    }

    onReady(function () {
      scrollToElement();
      window.addEventListener('hashchange', scrollToElement);
    });
  }

  ensureExternalLinksOpenInNewTab();
  scrollToAnchorNestedInDetailsIfNeeded();
</script>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/fastlane/docs" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
  </span>
</div>
    <script>var base_url = '../../..';</script>
    <!-- <script src="../../../js/theme_extra.js" defer></script>
    <script src="../../../js/theme.js" defer></script> -->
      <script src="../../../search/main.js" defer></script>
    <script>
        window.onload = function () {
            $(document).on("click","[data-toggle='wy-nav-top']",function(){$("[data-toggle='wy-nav-shift']").toggleClass("shift")})
            $("div[role=main] table").toggleClass("docutils");
            //SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
