<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="fastlane team">
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Troubleshooting - fastlane docs</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  <link href="../../css/fastlane.css" rel="stylesheet" />
  <link href="../../css/code.css" rel="stylesheet" />
  <link href="../../css/breadcrumbs.css" rel="stylesheet" />
  <link href="../../css/fabric.css" rel="stylesheet" />
  <link href="../../css/sidenav.css" rel="stylesheet" />

  <link rel="preconnect" href="https://fonts.gstatic.com"> 
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&display=swap" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Troubleshooting";
    var mkdocs_page_input_path = "codesigning/troubleshooting.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-18658848-13', 'docs.fastlane.tools');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> fastlane docs</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
                  <ul class=" root">
                      <li class="toctree-l1">
  <a class="reference internal" href="../..">Home</a>
                      </li>
                  </ul>
          
                  <p class="caption"><span class="caption-text">Getting Started</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal toc-no-link" href="#">iOS</a>
      <ul>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/ios/setup/">Setup</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/ios/authentication/">Authentication</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/ios/running-tests/">Running Tests</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/ios/screenshots/">Screenshots</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/ios/beta-deployment/">Beta Deployment</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/ios/appstore-deployment/">App Store Deployment</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/ios/fastlane-swift/">Swift</a>
                  </li>
      </ul>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal toc-no-link" href="#">Android</a>
      <ul>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/android/setup/">Setup</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/android/running-tests/">Running Tests</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/android/screenshots/">Screenshots</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/android/beta-deployment/">Beta Deployment</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/android/release-deployment/">Release Deployment</a>
                  </li>
      </ul>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal toc-no-link" href="#">Cross Platform</a>
      <ul>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/cross-platform/react-native/">React Native</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/cross-platform/flutter/">Flutter</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../getting-started/cross-platform/nativescript/">NativeScript</a>
                  </li>
      </ul>
                      </li>
                  </ul>
          
                  <p class="caption"><span class="caption-text">Actions</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../actions/">Available Actions</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../create-action/">Create Your Own Action</a>
                      </li>
                  </ul>
          
          
                  <p class="caption"><span class="caption-text">Apple</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../app-store-connect-api/">Using App Store Connect API</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../uploading-app-privacy-details/">Uploading App Privacy Details</a>
                      </li>
                  </ul>
          
                  <p class="caption"><span class="caption-text">FAQs</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../faqs/">FAQs</a>
                      </li>
                  </ul>
          
                  <p class="caption"><span class="caption-text">Codesigning</span></p>
                  <ul class="current">
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../getting-started/">Getting Started</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../xcode-project/">Xcode Project</a>
                      </li>
                      <li class="toctree-l1 current active current">
  <a class="reference internal current" href="./">Troubleshooting</a>
      <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#error-message">Error message</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#different-machine">Different machine</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#xcode-project">Xcode project</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#developer-portal">Developer Portal</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#keychain">Keychain</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#have-you-tried-turning-it-off-and-on-again">Have you tried turning it off and on again?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#fastlane">fastlane</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#common-issues">Common Issues</a>
    </li>
      </ul>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../common-issues/">Common Issues</a>
                      </li>
                  </ul>
          
                  <p class="caption"><span class="caption-text">Plugins</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../plugins/available-plugins/">Available Plugins</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../plugins/using-plugins/">Use Plugins</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../plugins/create-plugin/">Create Your Own Plugin</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../plugins/plugins-troubleshooting/">Plugins Troubleshooting</a>
                      </li>
                  </ul>
          
                  <p class="caption"><span class="caption-text">Best Practices</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../best-practices/source-control/">Source Control</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../best-practices/continuous-integration/">Continuous Integration</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal toc-no-link" href="#">CI Integrations</a>
      <ul>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../best-practices/continuous-integration/appcircle/">Appcircle</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../best-practices/continuous-integration/azure-devops/">Azure DevOps</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../best-practices/continuous-integration/bamboo/">Bamboo</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../best-practices/continuous-integration/bitrise/">Bitrise</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../best-practices/continuous-integration/circle-ci/">CircleCI</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../best-practices/continuous-integration/github/">GitHub Actions</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../best-practices/continuous-integration/gitlab/">GitLab CI</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../best-practices/continuous-integration/jenkins/">Jenkins</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../best-practices/continuous-integration/nevercode/">Nevercode</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../best-practices/continuous-integration/semaphore/">Semaphore</a>
                  </li>
                  <li class="toctree-l2">
  <a class="reference internal" href="../../best-practices/continuous-integration/travis/">Travis</a>
                  </li>
      </ul>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../best-practices/keys/">Keys</a>
                      </li>
                  </ul>
          
                  <p class="caption"><span class="caption-text">Advanced</span></p>
                  <ul>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../advanced/fastlane/">fastlane</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../advanced/Fastfile/">Fastfile</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../advanced/Appfile/">Appfile</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../advanced/lanes/">Lanes</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../advanced/actions/">Actions</a>
                      </li>
                      <li class="toctree-l1 current">
  <a class="reference internal" href="../../advanced/other/">Other</a>
                      </li>
                  </ul>
          
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">fastlane docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Codesigning &raquo;</li>
        
      
    
    <li>Troubleshooting</li>

    
      <li class="wy-breadcrumbs-aside">

        

        

        <a href="
            https://github.com/fastlane/docs/edit/master/docs/codesigning/troubleshooting.md
        " 
            class="icon icon-github"
        >Edit on GitHub</a>
      </li>
    

    <li class="wy-breadcrumbs-aside wy-breadcrumbs-aside-search">
      <input type="text" name="q" placeholder="Search docs" />
    </li>
  </ul>
  
  <hr/>
</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<!-- at the end of the BODY -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
    apiKey: 'c651753b86f5f8a00f8f2e9e9ca95865',
    indexName: 'fastlane',
    inputSelector: 'body > div.wy-grid-for-nav > section > div > div > div:nth-child(1) > ul > li.wy-breadcrumbs-aside > input[type="text"]',
    debug: false
});
</script>
          <div role="main">
            <div class="section">
              
                <h1 id="debugging-codesigning-issues">Debugging codesigning issues</h1>
<p>This guide will help you resolve the most common code signing errors. In general, make sure to read the <strong>complete</strong> output when something goes wrong, in particular the very top and the very bottom of the build output. You'll always get access to the raw <code>xcodebuild</code> output, make sure to analyze it, as <em>fastlane</em> can only assist with helping you resolve problems.</p>
<h2 id="error-message">Error message</h2>
<p>Make sure to find the exact error message in your build output. Many times the error message actually tells you how to resolve the issue. </p>
<p>To get even more details, try archiving using Xcode 8. </p>
<h2 id="different-machine">Different machine</h2>
<p>Does code signing work on a different Mac, but not on yours? If so, chances are high you don't have the latest private key, the certificate or the provisioning profile. Also follow the <a href="#keychain">Keychain</a> part of this document to make sure you don't have any expired certificates installed.</p>
<h2 id="xcode-project">Xcode project</h2>
<p>Make sure to follow <a href="../xcode-project/">Setting up your Xcode Project</a> to properly set up your project.</p>
<p>A check list on what you should verify on your Xcode project</p>
<ol>
<li>Make sure to have consistent code signing settings across your targets</li>
<li>Don't set any code signing settings on your project level, just on the target level</li>
<li>Make sure the bundle identifier matches the one of your provisioning profile</li>
<li>Make sure the code signing identity is set to <code>iOS Distribution</code> for <code>Release</code> builds</li>
<li>Make sure to set a provisioning profile for all your targets, e.g. Watch, Today widget, ...</li>
<li>Check your working copy in git - did you make any changes by mistake?</li>
</ol>
<h2 id="developer-portal">Developer Portal</h2>
<p>If a certificate gets revoked, all connected provisioning profiles get invalidated. This however might not immediately show up in your local keychain.</p>
<ol>
<li>Open the <a href="https://developer.apple.com/account/ios/certificate/">Developer Portal</a></li>
<li>Verify your certificates are valid, and didn't expire or get revoked</li>
<li>Switch to the Provisioning Profiles and make sure the profiles you want to use are all still valid<ol>
<li>If your profile is invalid or expired, you can easily fix it:<ol>
<li>If you're using <a href="https://fastlane.tools/match"><em>match</em></a>, run <em>match</em> with <code>force</code> enabled</li>
<li>If you're using <a href="https://fastlane.tools/sigh"><em>sigh</em></a>, run <em>sigh</em> with <code>force</code> enabled</li>
<li>If you're doing manual code signing, edit the provisioning profile, and click on <code>Generate</code> on the bottom of the screen. Make sure to select the correct certificate, then download and open the new provisioning profile</li>
</ol>
</li>
<li>If your profile is valid, but you still have issues make sure<ol>
<li>that the certificate matches the certificate you have installed locally. You can view the used certificate by editing the profile (Don't click <code>Generate</code>, unless you want to re-generate the provisioning profile)</li>
<li>that all devices you need are included (Development and Ad-Hoc only)</li>
<li>that you are actually looking at the correct provisioning profile, that matches the bundle identifier of your app. You might have multiple provisioning profiles for the same app / certificate combination. By default Xcode will use the last modified one.</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="keychain">Keychain</h2>
<ol>
<li>Run <code>security find-identity -v -p codesigning</code> to get a list of locally installed code signing identities. Does yours show up?</li>
<li>Open the <code>Keychain Access</code> app, switch to <code>Certificates</code> and find your <code>iOS Developer</code> or <code>iOS Distribution</code> entry and unfold the entry to verify the private key is locally installed: </li>
</ol>
<p align="center">
  <img src="/img/codesigning/KeychainPrivateKey.png" width=500 />
</p>
<ol>
<li>Make sure to have deleted all expired WWDR certificates, more information <a href="https://stackoverflow.com/questions/32821189/xcode-7-error-missing-ios-distribution-signing-identity-for/35401483#35401483">here</a>. There might be 2 expired WWDR certificates, one in the <code>login</code>, and one in the <code>system</code> keychain</li>
<li>Run <code>security default-keychain</code> to view the default keychain that is used by some <em>fastlane</em> actions if a keychain path is not explicitly provided.  If it's the system keychain, make sure <em>fastlane</em> has access to write to it.  You may want to reconfigure your enviroment so the default keychain is the login keychain, which is less prone to permissions errors.  If you're using <code>launchctl</code>, see <a href="https://serverfault.com/a/371252">this link to change the default keychain to the login keychain</a>.</li>
</ol>
<h2 id="have-you-tried-turning-it-off-and-on-again">Have you tried turning it off and on again?</h2>
<p>As funny as it sounds, sometimes restarting your Mac helps.</p>
<h2 id="fastlane">fastlane</h2>
<p>Run <em>fastlane</em> in verbose mode to get even more debug information:</p>
<pre><code class="language-no-highlight">fastlane [lane] --verbose
</code></pre>
<h2 id="common-issues">Common Issues</h2>
<p>Check out <a href="../common-issues/">Common code signing issues</a> for the most common code signing issues and how you can solve them.</p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div class="fastlane" role="contentinfo">
    <p>
      <a href="https://github.com/fastlane/fastlane" target="_blank">
        <img src="/img/fastlane_text.png" width="200" />
      </a>
      <iframe src="https://ghbtns.com/github-btn.html?user=fastlane&repo=fastlane&type=watch&count=true"
        allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20" class="githubButton"></iframe>
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a> - Copyright &copy; 2021 <a href="https://fastlane.tools">fastlane</a>
</footer>

<script type="text/javascript">
  var links = document.links;
  for (var i = 0, linksLength = links.length; i < linksLength; i++) {
    if (links[i].hostname != window.location.hostname) {
      links[i].target = '_blank';
    } 
  }
</script>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/fastlane/docs/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../xcode-project/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../common-issues/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <!-- <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script> -->
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            $(document).on("click","[data-toggle='wy-nav-top']",function(){$("[data-toggle='wy-nav-shift']").toggleClass("shift")})
            $("div[role=main] table").toggleClass("docutils");
            //SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
